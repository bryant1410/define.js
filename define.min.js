/*! DefineJS v0.2.4 2015-03-02 */
!function(a,b){function c(a){var b=typeof a;return"function"===b||a&&"object"===b||!1}function d(a){return a&&"object"==typeof a||!1}function e(a){return"number"==typeof a&&a>-1&&a%1===0&&s>=a}function f(a,b){var d;if(c(a)&&c(b))for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a}function g(a,b){return"string"==typeof a?g[a]=b:c(a)&&f(g,a),g}function h(a,b,c,d){function e(b){q.modules[a]=b?b:f,c.install(a,"success")}var f=g.execute(b,d);g.isPromiseAlike(f)?f.then(e):setTimeout(e,0)}function i(){var a=w.currentScript,b=/^(.*[\\\/])/;i.head=w.head||w.getElementsByTagName("head")[0],i.baseElement=w.getElementsByTagName("base")[0],i.baseElement&&(i.head=i.baseElement.parentNode),a?(i.baseUrl=a.getAttribute("base")||a.src.match(b)[1],i.baseGlobal=a.getAttribute("global")):i.baseUrl=""}function j(a){return function b(c){var d=c.currentTarget||c.srcElement;("load"===c.type||D.test(d.readyState))&&"function"==typeof a&&a("success"),d.detachEvent&&!C?d.detachEvent("onreadystatechange",b):d.removeEventListener("load",b,!1)}}function k(a){return function b(c){var d=c.currentTarget||c.srcElement;("load"===c.type||D.test(d.readyState))&&"function"==typeof a&&a("error"),"function"==typeof d.removeEventListener&&d.removeEventListener("error",b,!1)}}function l(a,b){return g.isObject(a)||(a=n),a.define=function(a,c,d){return l.define(b,a,c,d)},a.require=function(a,c){return b.require(a,c)},a.use=function(b){return new Promise(function(c){a.require(b,c)})},a.config=function(a){if(!g.isObject(a))return void console.error("Invalid parameter to set up the config");var b;for(b in a)a.hasOwnProperty(b)&&(q.options[b]=a[b])},a.require.config=a.config,a.define.amd={},a.define.info=q,a}function m(){if(m.definejs)return m.definejs;var a=function(a){a=l(a,m),m.define=function(a,b,c){q.definedModules[a]=!0,g.isArray(b)&&b.length?E.loadAll(b,function(){for(var d=[],e=0,f=b.length;f>e;e+=1)d.push(q.modules[g.getFileName(b[e])]);E.setup(a,c,d)}):E.setup(a,c)},m.require=function(a,b){"string"==typeof a?a=[a]:"function"==typeof a&&(b=a,a=[]),g.isArray(a)&&a.length?E.loadAll(a,function(){for(var c=[],d=0,e=a.length;e>d;d+=1)c.push(q.modules[g.getFileName(a[d])]);g.execute(b,c)}):g.execute(b)}};return m.definejs=a,a}var n=a();"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){var a=arguments.length?this.then.apply(this,arguments):this;a.then(null,function(a){setTimeout(function(){throw a},0)})});var o,p,q={options:{paths:null},modules:{},installed:{},waitingList:{},failedList:{},definedModules:{}},r=[],s=Math.pow(2,53)-1,t="[object Array]",u="[object Function]",v=Object.prototype.toString;o=Array.isArray||function(a){return d(a)&&e(a.length)&&v.call(a)===t||!1},p=function(a){return"function"==typeof a||!1},(p(/x/)||Uint8Array&&!p(Uint8Array))&&(p=function(a){return v.call(a)===u}),g({extend:f,isArray:o,isFunction:p,isObject:c,isObjectLike:d,isPromiseAlike:function(a){return a&&p(a.then)||!1}}),g.execute=function(a,c){var d;if(g.isFunction(a)){g.isArray(c)||(c=r);try{d=a.apply(b,c)}catch(e){}}return d};var w=n.document;i();var x={},y=/[\?|#]([^]*)$/,z=/\/([^/]*)$/,A=/.*?(?=\.|$)/;g.matchUrl=function(a){var b,c;return a=a.replace(y,""),b=(c=a.match(z))?c[1]:a,b=b.match(A)[0]},g.getFileName=function(a){return x[a]||(x[a]=g.matchUrl(a))};var B={};g.getUrl=function(a){var b=g.getFileName(a);return B[b]||(B[b]=g.makeUrl(a))},g.makeUrl=function(a){var b,c,d,e;if(c="string"==typeof q.options.urlArgs?"?"+q.options.urlArgs:"function"==typeof q.options.urlArgs?"?"+q.options.urlArgs():"",b=q.options.baseUrl?q.options.baseUrl:i.baseUrl,g.isObject(q.options.paths))for(d in q.options.paths)if(q.options.paths.hasOwnProperty(d)&&(e=q.options.paths[d],"string"==typeof e&&0===a.indexOf(d+"/"))){a=a.replace(d,e);break}return b&&"/"!==b.charAt(b.length-1)&&"/"!==a.charAt(0)&&(b+="/"),b+=a+".js"+c};var C="undefined"!=typeof n.opera&&"[object Opera]"===n.opera.toString(),D=/^(complete|loaded)$/;g.createScript=function(a,b,c){var d;return d=q.options.xhtml?w.createElementNS("http://www.w3.org/1999/xhtml","script"):w.createElement("script"),d.async=!0,d.type=q.options.scriptType||"text/javascript",d.charset="utf-8",a=g.getUrl(a),d.attachEvent&&!C?d.attachEvent("onreadystatechange",j(b)):(d.addEventListener("load",j(b),!1),d.addEventListener("error",k(c),!1)),i.baseElement?i.head.insertBefore(d,i.baseElement):i.head.appendChild(d),d.src=a,d},g.getScript=function(a,b){return g.createScript(a,b,b)};var E={install:function(a,b){var c,d,e,f;if("success"===b?q.installed[a]||(q.installed[a]=!0):q.failedList[a]=!0,c=q.waitingList[a],g.isArray(c)){for(e=0,f=c.length;f>e;e+=1){d=c[e];try{d(b)}catch(h){}}c.length=0}},load:function(a,b){var c,d,e=!1,f=g.getFileName(a);if(q.installed[f])b(q.modules[f]);else if(g.isArray(q.waitingList[f])||(q.waitingList[f]=[],e=!0),q.waitingList[f].push(b),e){if(g.isObject(q.options.dependencyMap))for(c in q.options.dependencyMap)if(q.options.dependencyMap.hasOwnProperty(c)&&(d=q.options.dependencyMap[c],d.indexOf(a)>-1)){a=c;break}g.getScript(a,function(a){q.definedModules[f]===!0||E.install(f,a)})}},loadAll:function(a,b){function c(a){f.push(a),f.length===e&&"function"==typeof b&&b(f)}for(var d=0,e=a.length,f=[];e>d;d+=1)E.load(a[d],c)},setup:function(a,b,c){h(a,b,this,c)}};if(l.define=function(a,c,d,e){return"function"==typeof c?(e=c,c=b,d=r):g.isArray(c)?(e=d,d=c,c=b):"string"==typeof c&&"function"==typeof d&&(e=d,d=r),"function"!=typeof e?(console.error("Invalid input parameter to define a module"),!1):(c===b&&(c=g.getFileName(document.currentScript.src)),void a.define(c,d,e))},"object"==typeof exports)module.exports=m();else if("function"==typeof define&&define.amd)define([],m);else{var F=m();i.baseGlobal&&g.isObject(n[i.baseGlobal])?F(n[i.baseGlobal]):n.definejs=F}}(function(){return this});