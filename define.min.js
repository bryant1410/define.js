/*! DefineJS v0.2.9 2015-04-17 */
!function(a,b){function c(a){var b=typeof a;return"function"===b||a&&"object"===b||!1}function d(a){return c(a)?a:Object(a)}function e(a,b){for(var c,e=d(a),f=Object.keys(e),g=f.length,h=-1;++h<g&&(c=f[h],b(e[c],c,e)!==!1););return a}function f(a){var b=K.options.dependencyMap;return e(b,function(b,c){return b.indexOf(a)>-1?(a=c,!1):void 0}),a}function g(a){return"number"==typeof a&&a>-1&&a%1===0&&P>=a}function h(a,b){var c=a?a.length:0;if(!g(c))return e(a,b);for(var f=-1,h=d(a);++f<c&&b(h[f],f,h)!==!1;);return a}function i(a,b){if("string"==typeof b){var d=b.split(".");return h(d,function(b){return c(a=a[b])}),a}}function j(a){var b=K.options.shim&&K.options.shim[a];return b?(c(b.object)||(O(b.init)&&(b.object=b.init.apply(J,arguments)),c(b.object)||(b.object=i(J,b.exports))),b.object):!1}function k(){var a=Q.currentScript,b=/^(.*[\\\/])/;k.head=Q.head||Q.getElementsByTagName("head")[0],k.baseElement=Q.getElementsByTagName("base")[0],k.baseElement&&(k.head=k.baseElement.parentNode),a?(k.baseUrl=a.getAttribute("base")||a.src.match(b)[1],k.baseGlobal=a.getAttribute("global")):k.baseUrl=""}function l(a){return{done:function(){var b=arguments.length?a.then.apply(a,arguments):a;b.then(null,function(a){setTimeout(function(){throw a},0)})}}}function m(a){return a&&"object"==typeof a||!1}function n(a){return m(a)&&O(a.then)||!1}function o(a){function b(b,c,d,e){var f;n(b)?(l(b).done(c,d),f=b):f=new a(function(a){a(b),c(b)}),e(f)}function c(b,c,d){d(new a(function(a,d){d(b),c(b)}))}function d(){function d(a){e=a,i.source=a}var e,f,g,h={},i=new a(function(a,b){f=a,g=b});return h.promise=i,h.resolve=function(a){e||b(a,f,g,d)},h.reject=function(a){e||c(a,g,d)},h}return d}function p(a){var b,c="string"==typeof K.options.urlArgs?"?"+K.options.urlArgs:"function"==typeof K.options.urlArgs?"?"+K.options.urlArgs():"";return b=K.options.baseUrl?K.options.baseUrl:k.baseUrl,e(K.options.paths,function(b,c){return"string"==typeof b&&0===a.indexOf(c+"/")?(a=a.replace(c,b),!1):void 0}),b&&"/"!==b.charAt(b.length-1)&&"/"!==a.charAt(0)&&(b+="/"),b+=a+".js"+c}function q(a){return L[a]||(L[a]=p(a))}function r(a){return function b(c){var d=c.currentTarget||c.srcElement;("load"===c.type||U.test(d.readyState))&&a("success"),d.detachEvent&&!T?d.detachEvent("onreadystatechange",b):d.removeEventListener("load",b,!1)}}function s(a){return function b(c){var d=c.currentTarget||c.srcElement;("load"===c.type||U.test(d.readyState))&&a("error"),"function"==typeof d.removeEventListener&&d.removeEventListener("error",b,!1)}}function t(a){var b,c=S();return b=K.options.xhtml?Q.createElementNS("http://www.w3.org/1999/xhtml","script"):Q.createElement("script"),b.async=!0,b.type=K.options.scriptType||"text/javascript",b.charset="utf-8",a=q(a),b.attachEvent&&!T?b.attachEvent("onreadystatechange",r(c.resolve)):(b.addEventListener("load",r(c.resolve),!1),b.addEventListener("error",s(c.reject),!1)),k.baseElement?k.head.insertBefore(b,k.baseElement):k.head.appendChild(b),b.src=a,c.promise}function u(a,b){var c;if("success"===b){if(K.installed[a])return void console.warn("[DefineJS][install]["+a+"]: this module is already installed!");K.installed[a]=!0}else K.failedList[a]=!0;c=K.waitingList[a],V(c)&&(h(c,function(b){try{b.resolve(K.modules[a])}catch(c){b.reject(c)}}),c.length=0)}function v(a,b,c){var d;if(b=f(b),d=j(a))K.modules[a]=d,K.installed[a]=!0,c.resolve(d);else{if(L[b]||K.definedModules[a]||R.loadShim(a,b,c))return;t(b).then(function(b){K.definedModules[a]||(u(a,b),c.resolve(K.modules[a]))})}}function w(a){var b,c;return a=a.replace(W,""),b=(c=a.match(X))?c[1]:a,b=b.match(Y)[0]}function x(a){return Z[a]||(Z[a]=w(a))}function y(a){var c=S(),d=!1,e=x(a);return K.installed[e]?K.modules[e]!==b?c.resolve(K.modules[e]):c.reject(new Error(e+": has no returned module definition.")):(V(K.waitingList[e])||(K.waitingList[e]=[],d=!0),K.waitingList[e].push(c),d&&v(e,a,c)),c.promise}function z(a,b,c){return t(b).then(function(b){K.modules[a]=j(a),K.waitingList[a].push(c),u(a,b)})}function A(a){return"function"==typeof a?"function"==typeof a.isGenerator?a.isGenerator():/^function\s*\*/.test(a.toString()):!1}function B(a,c){var d,e=S();if(V(c)||(c=ab),A(a))a.invokeWith(c).then(e.resolve,e.reject);else if(O(a))try{d=a.apply(b,c),e.resolve(d)}catch(f){e.reject(f)}else e.resolve(c);return e.promise}function C(a){return"string"==typeof a||m(a)&&N.call(a)===M.string}function D(a,b,c){var d=S();return C(a)&&O(b)?B(b,c).then(function(b){K.modules[a]=b,u(a,"success"),d.resolve(K.modules[a])}):void d.reject(new TypeError("Expected a string and a function"))}function E(a,b,c){return K.definedModules[a]=!0,R.loadAll(b).then(function(b){return D(a,c,b)})}function F(a,b){V(b)&&b.length&&h(a,function(a,c){b[a]=b[c]})}function G(a,b){return R.loadAll(a).then(function(c){return F(a,c),B(b,c)})}function H(a,b){return c(a)||(a=J),a.define=function(a,c,d){return H.define(b,a,c,d)},a.require=function(a,c){return b.require(a,c)},a.use=function(b){return a.require(b)},a.config=function(a){return c(a)?void e(a,function(a,b){K.options[b]=a}):void console.error("Invalid parameter to set up the config")},a.require.config=a.config,a.define.amd={},a.define.fix=K,a.define.defer=S,a}function I(){if(I.definejs)return I.definejs;var a=function(a){a=H(a,I),I.define=E,I.require=G};return I.definejs=a,a}var J=a(),K={options:{paths:null},modules:{},installed:{},waitingList:{},failedList:{},definedModules:{}},L={},M={func:"[object Function]",opera:"[object Opera]",array:"[object Array]",string:"[object String]"},N=Object.prototype.toString,O=function(a){return"function"==typeof a||!1};(O(/x/)||Uint8Array&&!O(Uint8Array))&&(O=function(a){return N.call(a)===M.func});var P=Math.pow(2,53)-1,Q=J.document;k();var R,S=o(J.Promise),T=m(J.opera)&&J.opera.toString()===M.opera,U=/^(complete|loaded)$/,V=Array.isArray||function(a){return m(a)&&g(a.length)&&N.call(a)===M.array||!1},W=/[\?|#]([^]*)$/,X=/\/([^/]*)$/,Y=/.*?(?=\.|$)/,Z={},$=new Promise(function(a){a(J)}),_={global:$,g:$};R={load:function(a){return _[a]===b&&(_[a]=y(a)),_[a]},loadAll:function(a){return Promise.all(a.map(R.load))},loadShim:function(a,b,d){var e=K.options.shim&&K.options.shim[a];return c(e)?(e.deps&&e.deps.length?R.loadAll(e.deps).then(function(){z(a,b,d)}):z(a,b,d),!0):!1}};var ab=[];if(H.define=function(a,c,d,e){return"function"==typeof c?(e=c,c=b,d=ab):V(c)?(e=d,d=c,c=b):"string"==typeof c&&"function"==typeof d&&(e=d,d=ab),"function"!=typeof e?(console.error("Invalid input parameter to define a module"),!1):(c===b&&(c=x(document.currentScript.src)),a.define(c,d,e))},"object"==typeof exports)module.exports=I();else if("function"==typeof define&&define.amd)define([],I);else{var bb=I();k.baseGlobal&&c(J[k.baseGlobal])?bb(J[k.baseGlobal]):J.definejs=bb}}(function(){return this});